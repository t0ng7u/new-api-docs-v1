---
title: Channel Management Module
---

<Callout type="info" title="Feature Description">
The API prefix is uniformly http(s)://`<your-domain>`
</Callout>

    HTTPS should be used in production environments to ensure authentication tokens. HTTP is only recommended for development environments.

    A complete management system for AI service provider channels. Supports channel CRUD operations, batch operations, connectivity testing, balance inquiry, tag management, and other features. Includes advanced features such as model capability synchronization and channel replication.

## ğŸ” Administrator Authentication

### Get Channel List

-   **Interface Name**: Get Channel List
-   **HTTP Method**: GET
-   **Path**: `/api/channel/`
-   **Authentication Required**: Administrator
-   **Feature Description**: Paginate and retrieve a list of all channels in the system, supporting filtering by type, status, and tag mode.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/?p=1&page_size=20&id_sort=false&tag_mode=false&type=1&status=enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "OpenAIæ¸ é“",
        "type": 1,
        "status": 1,
        "priority": 10,
        "weight": 100,
        "models": "gpt-3.5-turbo,gpt-4",
        "group": "default",
        "response_time": 1500,
        "test_time": 1640995200
      }
    ],
    "total": 50,
    "type_counts": {
      "1": 20,
      "2": 15,
      "all": 35
    }
  }
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "è·å–æ¸ é“åˆ—è¡¨å¤±è´¥"
}
```

ğŸ§¾ Field Description:

-   `p` (Number): Page number, defaults to 1
-   `page_size` (Number): Items per page, defaults to 20
-   `id_sort` (Boolean): Whether to sort by ID, defaults to sorting by priority
-   `tag_mode` (Boolean): Whether to enable tag mode
-   `type` (Number): Channel type filter
-   `status` (String): Status filter, optional values: "enabled", "disabled", "all"

### Search Channels

-   **Interface Name**: Search Channels
-   **HTTP Method**: GET
-   **Path**: `/api/channel/search`
-   **Authentication Required**: Administrator
-   **Feature Description**: Search channels based on keywords, groups, models, and other criteria.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/search?keyword=openai&group=default&model=gpt-4&id_sort=false&tag_mode=false&p=1&page_size=20&type=1&status=enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "OpenAIå®˜æ–¹æ¸ é“",
        "type": 1,
        "status": 1,
        "models": "gpt-3.5-turbo,gpt-4",
        "group": "default"
      }
    ],
    "total": 1,
    "type_counts": {
      "1": 1,
      "all": 1
    }
  }
}
```

â— Failed Response Example:

```
{ Â   "success": false, Â   "message": "æœç´¢æ¸ é“å¤±è´¥" Â }
```

ğŸ§¾ Field Description:

-   `keyword` (String): Search keyword, can match channel names
-   `group` (String): Group filter condition
-   `model` (String): Model filter condition
-   Other parameters are the same as the Get Channel List interface.

### Query Channel Model Capabilities

-   **Interface Name**: Query Channel Model Capabilities
-   **HTTP Method**: GET
-   **Path**: `/api/channel/models`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get a list of models supported by all channels in the system.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/models', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": [
    {
      "id": "gpt-3.5-turbo",
      "name": "GPT-3.5 Turbo"
    },
    {
      "id": "gpt-4",
      "name": "GPT-4"
    },
    {
      "id": "claude-3-sonnet",
      "name": "Claude 3 Sonnet"
    }
  ]
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥"
}
```

ğŸ§¾ Field Description:

`data` (Array): List of model information

-   `id` (String): Model ID
-   `name` (String): Model display name

### Query Enabled Model Capabilities

-   **Interface Name**: Query Enabled Model Capabilities
-   **HTTP Method**: GET
-   **Path**: `/api/channel/models_enabled`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get a list of models supported by currently enabled channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/models_enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "claude-3-sonnet"
  ]
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "è·å–å¯ç”¨æ¨¡å‹å¤±è´¥"
}
```

ğŸ§¾ Field Description:

`data` (Array): List of enabled model IDs

### Get Single Channel

-   **Interface Name**: Get Single Channel
-   **HTTP Method**: GET
-   **Path**: `/api/channel/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get detailed information for a specified channel, excluding sensitive key information.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": {
    "id": 123,
    "name": "OpenAIæ¸ é“",
    "type": 1,
    "status": 1,
    "priority": 10,
    "weight": 100,
    "models": "gpt-3.5-turbo,gpt-4",
    "group": "default",
    "base_url": "https://api.openai.com",
    "model_mapping": "{}",
    "channel_info": {
      "is_multi_key": false,
      "multi_key_mode": "random"
    }
  }
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ Field Description:

-   `id` (Number): Channel ID, passed via URL path
-   Returns complete channel information, but without key fields.

### Batch Test Channel Connectivity

-   **Interface Name**: Batch Test Channel Connectivity
-   **HTTP Method**: GET
-   **Path**: `/api/channel/test`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch test the connectivity and response time of all or specified channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/test?model=gpt-3.5-turbo', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "æ‰¹é‡æµ‹è¯•å®Œæˆ",
  "data": {
    "total": 10,
    "success": 8,
    "failed": 2,
    "results": [
      {
        "channel_id": 1,
        "channel_name": "OpenAIæ¸ é“",
        "success": true,
        "time": 1.25,
        "message": ""
      },
      {
        "channel_id": 2,
        "channel_name": "Claudeæ¸ é“",
        "success": false,
        "time": 0,
        "message": "è¿æ¥è¶…æ—¶"
      }
    ]
  }
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "æ‰¹é‡æµ‹è¯•å¤±è´¥"
}
```

ğŸ§¾ Field Description:

-   `model` (String): Optional, specifies the test model
-   `results` (Array): List of test results
    -   `success` (Boolean): Whether the test was successful
    -   `time` (Number): Response time (seconds)

### Single Channel Test

-   **Interface Name**: Single Channel Test
-   **HTTP Method**: GET
-   **Path**: `/api/channel/test/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Test the connectivity of a specified channel, supporting a specified test model.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/test/123?model=gpt-4', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "time": 1.25
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "APIå¯†é’¥æ— æ•ˆ",
  "time": 0.5
}
```

ğŸ§¾ Field Description:

-   `id` (Number): Channel ID, passed via URL path
-   `model` (String): Optional, specifies the name of the test model
-   `time` (Number): Response time (seconds)

### Batch Refresh Balance

-   **Interface Name**: Batch Refresh Balance
-   **HTTP Method**: GET
-   **Path**: `/api/channel/update_balance`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch update balance information for all enabled channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/update_balance', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "æ‰¹é‡æ›´æ–°ä½™é¢å®Œæˆ"
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "æ‰¹é‡æ›´æ–°ä½™é¢å¤±è´¥"
}
```

ğŸ§¾ Field Description:

No request parameters, the system will automatically update the balance of all enabled channels.

### Single Refresh Balance

-   **Interface Name**: Update Specified Channel Balance
-   **HTTP Method**: GET
-   **Path**: `/api/channel/update_balance/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Update balance information for a specified channel. Multi-key channels do not support balance inquiry.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/update_balance/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "balance": 25.50
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "å¤šå¯†é’¥æ¸ é“ä¸æ”¯æŒä½™é¢æŸ¥è¯¢"
}
```

ğŸ§¾ Field Description:

-   `id` (Number): Channel ID, passed via URL path
-   `balance` (Number): Updated channel balance

### Add Channel

-   **Interface Name**: Add Channel
-   **HTTP Method**: POST
-   **Path**: `/api/channel/`
-   **Authentication Required**: Administrator
-   **Feature Description**: Create new AI service channels, supporting single, batch, and multi-key modes.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    mode: "single",
    channel: {
      name: "OpenAIæ¸ é“",
      type: 1,
      key: "`<YOUR_API_KEY>`",
      base_url: "https://api.openai.com",
      models: "gpt-3.5-turbo,gpt-4,claude-3-sonnet",
      groups: ["default"],
      priority: 10,
      weight: 100
    }
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "ä¸æ”¯æŒçš„æ·»åŠ æ¨¡å¼"
}
```

ğŸ§¾ Field Description:

-   `mode` (String): Add mode, optional values: "single", "batch", "multi_to_single"
-   `multi_key_mode` (String): Multi-key mode, required when mode is "multi_to_single"
-   `channel` (Object): Channel configuration information
    -   `name` (String): Channel name
    -   `type` (Number): Channel type
    -   `key` (String): API key
    -   `base_url` (String): Base URL
    -   `models` (String): List of supported models, comma-separated, optional
    -   `groups` (Array): List of available groups
    -   `priority` (Number): Priority
    -   `weight` (Number): Weight

### Update Channel

-   **Interface Name**: Update Channel
-   **HTTP Method**: PUT
-   **Path**: `/api/channel/`
-   **Authentication Required**: Administrator
-   **Feature Description**: Update existing channel configuration information.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    id: 123,
    name: "æ›´æ–°çš„OpenAIæ¸ é“",
    status: 1,
    priority: 15,
    weight: 120
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ Field Description:

-   `id` (Number): Channel ID, required
-   Other fields are the same as the Add Channel interface, all are optional.

### Delete Disabled Channels

-   **Interface Name**: Delete Disabled Channels
-   **HTTP Method**: DELETE
-   **Path**: `/api/channel/disabled`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch delete all disabled channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/disabled', {
  method: 'DELETE',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": 5
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "åˆ é™¤å¤±è´¥"
}
```

ğŸ§¾ Field Description:

-   No request parameters
-   `data` (Number): Number of channels deleted

### Batch Disable Tagged Channels

-   **Interface Name**: Batch Disable Tagged Channels
-   **HTTP Method**: POST
-   **Path**: `/api/channel/tag/disabled`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch disable channels by tag.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/tag/disabled', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "test-tag"
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ Field Description:

`tag` (String): The tag of channels to disable, required.

### Batch Enable Tagged Channels

-   **Interface Name**: Batch Enable Tagged Channels
-   **HTTP Method**: POST
-   **Path**: `/api/channel/tag/enabled`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch enable channels by tag.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/tag/enabled', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "production-tag"
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ Field Description:

`tag` (String): The tag of channels to enable, required.

### Edit Channel Tags

-   **Interface Name**: Edit Channel Tags
-   **HTTP Method**: PUT
-   **Path**: `/api/channel/tag`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch edit channel attributes for specified tags.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/tag', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "old-tag",
    new_tag: "new-tag",
    priority: 20,
    weight: 150,
    models: "gpt-3.5-turbo,gpt-4,claude-3-sonnet",
    groups: "default,vip"
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "tagä¸èƒ½ä¸ºç©º"
}
```

ğŸ§¾ Field Description:

-   `tag` (String): The tag name to edit, required
-   `new_tag` (String): New tag name, optional
-   `priority` (Number): New priority, optional
-   `weight` (Number): New weight, optional
-   `model_mapping` (String): Model mapping configuration, optional
-   `models` (String): List of supported models, comma-separated, optional
-   `groups` (String): List of available groups, comma-separated, optional

### Delete Channel

-   **Interface Name**: Delete Channel
-   **HTTP Method**: DELETE
-   **Path**: `/api/channel/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Hard delete a specified channel. The channel cache will be refreshed after deletion.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/123', {
  method: 'DELETE',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": ""
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ Field Description:

`id` (Number): Channel ID, passed via URL path

### Batch Delete Channels

-   **Interface Name**: Batch Delete Channels
-   **HTTP Method**: POST
-   **Path**: `/api/channel/batch`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch delete channels based on a list of IDs.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/batch', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    ids: [1, 2, 3, 4, 5]
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": 5
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ Field Description:

-   `ids` (Array): List of channel IDs to delete, required and cannot be empty
-   `data` (Number): Number of channels successfully deleted

### Fix Channel Capability Table

-   **Interface Name**: Fix Channel Capability Table
-   **HTTP Method**: POST
-   **Path**: `/api/channel/fix`
-   **Authentication Required**: Administrator
-   **Feature Description**: Fix channel capability table data, rebuilding the mapping relationship between channels and models.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/fix', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": {
    "success": 45,
    "fails": 2
  }
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "ä¿®å¤èƒ½åŠ›è¡¨å¤±è´¥"
}
```

ğŸ§¾ Field Description:

-   No request parameters
-   `data.success` (Number): Number of channels successfully fixed
-   `data.fails` (Number): Number of channels that failed to fix

### Fetch Single Channel Models

-   **Interface Name**: Fetch Single Channel Models
-   **HTTP Method**: GET
-   **Path**: `/api/channel/fetch_models/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get a list of available models from the upstream API of the specified channel.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/fetch_models/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "gpt-4-turbo-preview"
  ]
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "è§£æå“åº”å¤±è´¥: invalid character 'H' looking for beginning of value"
}
```

ğŸ§¾ Field Description:

-   `id` (Number): Channel ID, passed via URL path
-   `data` (Array): List of model IDs obtained from upstream

### Fetch All Channel Models

-   **Interface Name**: Fetch All Channel Models
-   **HTTP Method**: POST
-   **Path**: `/api/channel/fetch_models`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get a list of models from the upstream API using the provided configuration information, for preview when creating new channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/fetch_models', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    base_url: "https://api.openai.com",
    type: 1,
    key: "`<YOUR_API_KEY>`"
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "text-davinci-003"
  ]
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "Failed to fetch models"
}
```

ğŸ§¾ Field Description:

-   `base_url` (String): Base URL, optional, uses default URL if empty
-   `type` (Number): Channel type, required
-   `key` (String): API key, required
-   `data` (Array): List of models obtained

### Batch Set Channel Tags

-   **Interface Name**: Batch Set Channel Tags
-   **HTTP Method**: POST
-   **Path**: `/api/channel/batch/tag`
-   **Authentication Required**: Administrator
-   **Feature Description**: Batch set tags for a specified list of channels.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/batch/tag', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    ids: [1, 2, 3],
    tag: "production"
  })
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": 3
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ Field Description:

-   `ids` (Array): List of channel IDs to set tags for, required and cannot be empty
-   `tag` (String): The tag name to set, passing null clears the tag
-   `data` (Number): Number of channels for which tags were successfully set

### Get Models by Tag

-   **Interface Name**: Get Models by Tag
-   **HTTP Method**: GET
-   **Path**: `/api/channel/tag/models`
-   **Authentication Required**: Administrator
-   **Feature Description**: Get the model list with the most models among all channels under the specified tag.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/tag/models?tag=production', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": "gpt-3.5-turbo,gpt-4,claude-3-sonnet"
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "tagä¸èƒ½ä¸ºç©º"
}
```

ğŸ§¾ Field Description:

-   `tag` (String): Tag name, required
-   `data` (String): List of models from the channel with the most models under this tag, comma-separated

### Copy Channel

-   **Interface Name**: Copy Channel
-   **HTTP Method**: POST
-   **Path**: `/api/channel/copy/:id`
-   **Authentication Required**: Administrator
-   **Feature Description**: Copy an existing channel to create a new one, supporting custom suffixes and balance reset options.

ğŸ’¡ Request Example:

```
const response = await fetch('/api/channel/copy/123?suffix=_å¤‡ä»½&reset_balance=true', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… Successful Response Example:

```
{
  "success": true,
  "message": "",
  "data": {
    "id": 124
  }
}
```

â— Failed Response Example:

```
{
  "success": false,
  "message": "invalid id"
}
```

ğŸ§¾ Field Description:

-   `id` (Number): ID of the channel to copy, passed via URL path
-   `suffix` (String): Optional, suffix to append to the original name, defaults to "\_å¤åˆ¶"
-   `reset_balance` (Boolean): Optional, whether to reset balance and used quota to 0, defaults to true
-   `data.id` (Number): ID of the newly created channel