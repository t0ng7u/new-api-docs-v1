---
title: 公開情報モジュール
---

<Callout type="info" title="機能説明">
インターフェースのプレフィックスは http(s)://`<your-domain>` に統一されています。
</Callout>

    本番環境では認証トークンを保護するためにHTTPSを使用する必要があります。HTTPは開発環境でのみ推奨されます。

    認証不要または低権限でアクセスできるシステム情報（モデルリスト、価格情報、お知らせ内容など）を提供します。多言語表示と動的設定をサポートしています。フロントエンドのホームページとモデル広場は、主にこれらのインターフェースに依存して表示データを取得します。

## 🔐 認証不要

### お知らせ内容の取得

- **インターフェース名**：お知らせ内容の取得
- **HTTPメソッド**：GET
- **パス**：`/api/notice`
- **認証要件**：公開
- **機能概要**：システムのお知らせ内容を取得します。Markdown形式をサポートしています。

💡 リクエスト例：

```
const response = await fetch('/api/notice', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "message": "",
  "data": "# システムからのお知らせ\n\nNew APIシステムへようこそ！"
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "お知らせの取得に失敗しました"
}
```

🧾 フィールド説明：

`data` （文字列）: お知らせ内容。Markdown形式をサポートしています。

### Aboutページ情報

- **インターフェース名**：Aboutページ情報
- **HTTPメソッド**：GET
- **パス**：`/api/about`
- **認証要件**：公開
- **機能概要**：Aboutページのカスタムコンテンツを取得します。

💡 リクエスト例：

```
const response = await fetch('/api/about', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "message": "",
  "data": "# 私たちについて\n\nNew APIは強力なAIゲートウェイシステムです..."
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "About情報の取得に失敗しました"
}
```

🧾 フィールド説明：

`data` （文字列）: Aboutページの内容。Markdown形式またはURLリンクをサポートしています。

### ホームページのカスタムコンテンツ

- **インターフェース名**：ホームページのカスタムコンテンツ
- **HTTPメソッド**：GET
- **パス**：`/api/home_page_content`
- **認証要件**：公開
- **機能概要**：ホームページのカスタムコンテンツを取得します。Markdownテキストまたはiframe URLにすることができます。

💡 リクエスト例：

```
const response = await fetch('/api/home_page_content', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "message": "",
  "data": "# New APIへようこそ\n\nこれは強力なAIゲートウェイシステムです..."
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "ホームページコンテンツの取得に失敗しました"
}
```

🧾 フィールド説明：

`data` （文字列）: ホームページの内容。Markdownテキストまたは"https://"で始まるURLリンクにすることができます。

### モデル倍率設定

- **インターフェース名**：モデル倍率設定
- **HTTPメソッド**：GET
- **パス**：`/api/ratio_config`
- **認証要件**：公開
- **機能概要**：公開されているモデルの倍率設定情報を取得し、上流システムとの同期に使用します。

💡 リクエスト例：

```
const response = await fetch('/api/ratio_config', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "data": {
    "model_ratio": {
      "gpt-3.5-turbo": 1.0,
      "gpt-4": 15.0,
      "claude-3-sonnet": 3.0
    },
    "completion_ratio": {
      "gpt-3.5-turbo": 1.0,
      "gpt-4": 1.0
    },
    "model_price": {
      "gpt-3.5-turbo-instruct": 0.002
    }
  }
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "倍率設定の取得に失敗しました"
}
```

🧾 フィールド説明：

`data` （オブジェクト）: 倍率設定情報

- `model_ratio` （オブジェクト）: モデル倍率マッピング。キーはモデル名、値は倍率の数値です。
- `completion_ratio` （オブジェクト）: 補完倍率マッピング。
- `model_price` （オブジェクト）: モデル価格マッピング。キーはモデル名、値は価格（米ドル）です。

### 価格とプラン情報

- **インターフェース名**：価格とプラン情報
- **HTTPメソッド**：GET
- **パス**：`/api/pricing`
- **認証要件**：匿名/ユーザー
- **機能概要**：モデルの価格情報、グループ倍率、および利用可能なグループを取得します。

💡 リクエスト例：

```
const response = await fetch('/api/pricing', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_token', // オプション、ログインユーザーはより詳細な情報を取得できます
    'New-Api-User': 'your_user_id' // オプション
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "data": [
    {
      "model_name": "gpt-3.5-turbo",
      "enable_group": ["default", "vip"],
      "model_ratio": 1.0,
      "completion_ratio": 1.0,
      "model_price": 0.002,
      "quota_type": 1,
      "description": "GPT-3.5 Turboモデル",
      "vendor_id": 1,
      "supported_endpoint_types": [1, 2]
    }
  ],
  "vendors": [
    {
      "id": 1,
      "name": "OpenAI",
      "description": "OpenAI公式モデル",
      "icon": "openai.png"
    }
  ],
  "group_ratio": {
    "default": 1.0,
    "vip": 0.8
  },
  "usable_group": {
    "default": "デフォルトグループ",
    "vip": "VIPグループ"
  },
  "supported_endpoint": {
    "1": {"method": "POST", "path": "/v1/chat/completions"},
    "2": {"method": "POST", "path": "/v1/embeddings"}
  },
  "auto_groups": ["default"]
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "価格情報の取得に失敗しました"
}
```

🧾 フィールド説明：

- `data` （配列）: モデル価格情報リスト
  - `model_name` （文字列）: モデル名
  - `enable_group` （配列）: 利用可能なグループリスト
  - `model_ratio` （数値）: モデル倍率
  - `completion_ratio` （数値）: 補完倍率
  - `model_price` （数値）: モデル価格（米ドル）
  - `quota_type` （数値）: 課金タイプ。0=倍率課金、1=価格課金
  - `description` （文字列）: モデルの説明
  - `vendor_id` （数値）: ベンダーID
  - `supported_endpoint_types` （配列）: サポートされているエンドポイントタイプ

- `vendors` （配列）: ベンダー情報リスト
  - `id` （数値）: ベンダーID
  - `name` （文字列）: ベンダー名
  - `description` （文字列）: ベンダーの説明
  - `icon` （文字列）: ベンダーアイコン

- `group_ratio` （オブジェクト）: グループ倍率マッピング
- `usable_group` （オブジェクト）: 利用可能なグループマッピング
- `supported_endpoint` （オブジェクト）: サポートされているエンドポイント情報
- `auto_groups` （配列）: 自動グループリスト

## 🔐 ユーザー認証

### フロントエンドで利用可能なモデルリストの取得

- **インターフェース名**：フロントエンドで利用可能なモデルリストの取得
- **HTTPメソッド**：GET
- **パス**：`/api/models`
- **認証要件**：ユーザー
- **機能概要**：現在のユーザーがアクセス可能なAIモデルのリストを取得し、フロントエンドのダッシュボード表示に使用します。

💡 リクエスト例：

```
const response = await fetch('/api/models', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_user_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

✅ 成功レスポンス例：

```
{
  "success": true,
  "data": {
    "1": ["gpt-3.5-turbo", "gpt-4"],
    "2": ["claude-3-sonnet", "claude-3-haiku"]
  }
}
```

❗ 失敗レスポンス例：

```
{
  "success": false,
  "message": "アクセスが許可されていません"
}
```

🧾 フィールド説明：

`data` （オブジェクト）: チャネルIDからモデルリストへのマッピング

- キー （文字列）: チャネルID
- 値 （配列）: そのチャネルがサポートするモデル名のリスト