---
title: ãƒãƒ£ãƒãƒ«ç®¡ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
---

<Callout type="info" title="æ©Ÿèƒ½èª¬æ˜">
ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ http(s)://`<your-domain>` ã«çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™ã€‚
</Callout>

    æœ¬ç•ªç’°å¢ƒã§ã¯èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«HTTPSã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚HTTPã¯é–‹ç™ºç’°å¢ƒã§ã®ã¿æ¨å¥¨ã•ã‚Œã¾ã™ã€‚

    AIã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒãƒ£ãƒãƒ«ã®å®Œå…¨ãªç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ãƒãƒ£ãƒãƒ«ã®è¿½åŠ ã€å‰Šé™¤ã€å¤‰æ›´ã€æ¤œç´¢ã€ä¸€æ‹¬æ“ä½œã€æ¥ç¶šãƒ†ã‚¹ãƒˆã€æ®‹é«˜ç…§ä¼šã€ã‚¿ã‚°ç®¡ç†ãªã©ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ãƒ¢ãƒ‡ãƒ«èƒ½åŠ›ã®åŒæœŸã‚„ãƒãƒ£ãƒãƒ«ã®è¤‡è£½ãªã©ã®é«˜åº¦ãªæ©Ÿèƒ½ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ” ç®¡ç†è€…èªè¨¼

### ãƒãƒ£ãƒãƒ«ãƒªã‚¹ãƒˆã®å–å¾—

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ãƒªã‚¹ãƒˆã®å–å¾—
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã‚·ã‚¹ãƒ†ãƒ å†…ã®ã™ã¹ã¦ã®ãƒãƒ£ãƒãƒ«ã®ãƒªã‚¹ãƒˆæƒ…å ±ã‚’ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã§å–å¾—ã—ã¾ã™ã€‚ã‚¿ã‚¤ãƒ—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã‚¿ã‚°ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/?p=1&page_size=20&id_sort=false&tag_mode=false&type=1&status=enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "OpenAIæ¸ é“",
        "type": 1,
        "status": 1,
        "priority": 10,
        "weight": 100,
        "models": "gpt-3.5-turbo,gpt-4",
        "group": "default",
        "response_time": 1500,
        "test_time": 1640995200
      }
    ],
    "total": 50,
    "type_counts": {
      "1": 20,
      "2": 15,
      "all": 35
    }
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "è·å–æ¸ é“åˆ—è¡¨å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `p` ï¼ˆæ•°å€¤ï¼‰: ãƒšãƒ¼ã‚¸ç•ªå·ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 1
-   `page_size` ï¼ˆæ•°å€¤ï¼‰: 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ•°ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 20
-   `id_sort` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: IDã§ã‚½ãƒ¼ãƒˆã™ã‚‹ã‹ã©ã†ã‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å„ªå…ˆåº¦ã§ã‚½ãƒ¼ãƒˆ
-   `tag_mode` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: ã‚¿ã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹
-   `type` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿
-   `status` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ã€é¸æŠå¯èƒ½ãªå€¤ï¼š"enabled"ã€"disabled"ã€"all"

### ãƒãƒ£ãƒãƒ«ã®æ¤œç´¢

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®æ¤œç´¢
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/search`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ã‚°ãƒ«ãƒ¼ãƒ—ã€ãƒ¢ãƒ‡ãƒ«ãªã©ã®æ¡ä»¶ã«åŸºã¥ã„ã¦ãƒãƒ£ãƒãƒ«ã‚’æ¤œç´¢ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/search?keyword=openai&group=default&model=gpt-4&id_sort=false&tag_mode=false&p=1&page_size=20&type=1&status=enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "OpenAIå®˜æ–¹æ¸ é“",
        "type": 1,
        "status": 1,
        "models": "gpt-3.5-turbo,gpt-4",
        "group": "default"
      }
    ],
    "total": 1,
    "type_counts": {
      "1": 1,
      "all": 1
    }
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{ Â   "success": false, Â   "message": "æœç´¢æ¸ é“å¤±è´¥" Â }
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `keyword` ï¼ˆæ–‡å­—åˆ—ï¼‰: æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ãƒãƒ£ãƒãƒ«åã«ä¸€è‡´å¯èƒ½
-   `group` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚°ãƒ«ãƒ¼ãƒ—ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶
-   `model` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶
-   ãã®ä»–ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ãƒãƒ£ãƒãƒ«ãƒªã‚¹ãƒˆå–å¾—ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨åŒã˜

### ãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«èƒ½åŠ›ã®ç…§ä¼š

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«èƒ½åŠ›ã®ç…§ä¼š
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/models`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã‚·ã‚¹ãƒ†ãƒ å†…ã®ã™ã¹ã¦ã®ãƒãƒ£ãƒãƒ«ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/models', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": [
    {
      "id": "gpt-3.5-turbo",
      "name": "GPT-3.5 Turbo"
    },
    {
      "id": "gpt-4",
      "name": "GPT-4"
    },
    {
      "id": "claude-3-sonnet",
      "name": "Claude 3 Sonnet"
    }
  ]
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

`data` ï¼ˆé…åˆ—ï¼‰: ãƒ¢ãƒ‡ãƒ«æƒ…å ±ãƒªã‚¹ãƒˆ

-   `id` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ¢ãƒ‡ãƒ«ID
-   `name` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ¢ãƒ‡ãƒ«è¡¨ç¤ºå

### æœ‰åŠ¹ãªãƒ¢ãƒ‡ãƒ«èƒ½åŠ›ã®ç…§ä¼š

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šæœ‰åŠ¹ãªãƒ¢ãƒ‡ãƒ«èƒ½åŠ›ã®ç…§ä¼š
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/models_enabled`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šç¾åœ¨æœ‰åŠ¹ãªãƒãƒ£ãƒãƒ«ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/models_enabled', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "claude-3-sonnet"
  ]
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "è·å–å¯ç”¨æ¨¡å‹å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

`data` ï¼ˆé…åˆ—ï¼‰: æœ‰åŠ¹ãªãƒ¢ãƒ‡ãƒ«IDãƒªã‚¹ãƒˆ

### å€‹åˆ¥ãƒãƒ£ãƒãƒ«ã®å–å¾—

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šå€‹åˆ¥ãƒãƒ£ãƒãƒ«ã®å–å¾—
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚æ©Ÿå¯†æ€§ã®é«˜ã„ã‚­ãƒ¼æƒ…å ±ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": {
    "id": 123,
    "name": "OpenAIæ¸ é“",
    "type": 1,
    "status": 1,
    "priority": 10,
    "weight": 100,
    "models": "gpt-3.5-turbo,gpt-4",
    "group": "default",
    "base_url": "https://api.openai.com",
    "model_mapping": "{}",
    "channel_info": {
      "is_multi_key": false,
      "multi_key_mode": "random"
    }
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™
-   å®Œå…¨ãªãƒãƒ£ãƒãƒ«æƒ…å ±ãŒè¿”ã•ã‚Œã¾ã™ãŒã€ã‚­ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å«ã¾ã‚Œã¾ã›ã‚“

### ãƒãƒ£ãƒãƒ«æ¥ç¶šæ€§ã®ä¸€æ‹¬ãƒ†ã‚¹ãƒˆ

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«æ¥ç¶šæ€§ã®ä¸€æ‹¬ãƒ†ã‚¹ãƒˆ
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/test`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã™ã¹ã¦ã®ãƒãƒ£ãƒãƒ«ã¾ãŸã¯æŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã®æ¥ç¶šæ€§ã¨å¿œç­”æ™‚é–“ã‚’ä¸€æ‹¬ã§ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/test?model=gpt-3.5-turbo', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "æ‰¹é‡æµ‹è¯•å®Œæˆ",
  "data": {
    "total": 10,
    "success": 8,
    "failed": 2,
    "results": [
      {
        "channel_id": 1,
        "channel_name": "OpenAIæ¸ é“",
        "success": true,
        "time": 1.25,
        "message": ""
      },
      {
        "channel_id": 2,
        "channel_name": "Claudeæ¸ é“",
        "success": false,
        "time": 0,
        "message": "è¿æ¥è¶…æ—¶"
      }
    ]
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "æ‰¹é‡æµ‹è¯•å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `model` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ãƒ†ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ã‚’æŒ‡å®š
-   `results` ï¼ˆé…åˆ—ï¼‰: ãƒ†ã‚¹ãƒˆçµæœãƒªã‚¹ãƒˆ
    -   `success` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹
    -   `time` ï¼ˆæ•°å€¤ï¼‰: å¿œç­”æ™‚é–“ï¼ˆç§’ï¼‰

### å€‹åˆ¥ãƒãƒ£ãƒãƒ«ãƒ†ã‚¹ãƒˆ

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šå€‹åˆ¥ãƒãƒ£ãƒãƒ«ãƒ†ã‚¹ãƒˆ
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/test/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã®æ¥ç¶šæ€§ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ã®æŒ‡å®šã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/test/123?model=gpt-4', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "time": 1.25
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "APIå¯†é’¥æ— æ•ˆ",
  "time": 0.5
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™
-   `model` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ¢ãƒ‡ãƒ«åã‚’æŒ‡å®š
-   `time` ï¼ˆæ•°å€¤ï¼‰: å¿œç­”æ™‚é–“ï¼ˆç§’ï¼‰

### æ®‹é«˜ã®ä¸€æ‹¬æ›´æ–°

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šæ®‹é«˜ã®ä¸€æ‹¬æ›´æ–°
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/update_balance`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã™ã¹ã¦ã®æœ‰åŠ¹ãªãƒãƒ£ãƒãƒ«ã®æ®‹é«˜æƒ…å ±ã‚’ä¸€æ‹¬ã§æ›´æ–°ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/update_balance', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "æ‰¹é‡æ›´æ–°ä½™é¢å®Œæˆ"
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "æ‰¹é‡æ›´æ–°ä½™é¢å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã—ã€ã‚·ã‚¹ãƒ†ãƒ ã¯ã™ã¹ã¦ã®æœ‰åŠ¹ãªãƒãƒ£ãƒãƒ«ã®æ®‹é«˜ã‚’è‡ªå‹•çš„ã«æ›´æ–°ã—ã¾ã™

### å€‹åˆ¥æ®‹é«˜ã®æ›´æ–°

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šæŒ‡å®šãƒãƒ£ãƒãƒ«æ®‹é«˜ã®æ›´æ–°
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/update_balance/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã®æ®‹é«˜æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™ã€‚ãƒãƒ«ãƒã‚­ãƒ¼ãƒãƒ£ãƒãƒ«ã¯æ®‹é«˜ç…§ä¼šã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/update_balance/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "balance": 25.50
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "å¤šå¯†é’¥æ¸ é“ä¸æ”¯æŒä½™é¢æŸ¥è¯¢"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™
-   `balance` ï¼ˆæ•°å€¤ï¼‰: æ›´æ–°ã•ã‚ŒãŸãƒãƒ£ãƒãƒ«æ®‹é«˜

### ãƒãƒ£ãƒãƒ«ã®è¿½åŠ 

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®è¿½åŠ 
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæ–°ã—ã„AIã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ£ãƒãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚å˜ä¸€ã€ãƒãƒƒãƒã€ãƒãƒ«ãƒã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    mode: "single",
    channel: {
      name: "OpenAIæ¸ é“",
      type: 1,
      key: "`<YOUR_API_KEY>`",
      base_url: "https://api.openai.com",
      models: "gpt-3.5-turbo,gpt-4,claude-3-sonnet",
      groups: ["default"],
      priority: 10,
      weight: 100
    }
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "ä¸æ”¯æŒçš„æ·»åŠ æ¨¡å¼"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `mode` ï¼ˆæ–‡å­—åˆ—ï¼‰: è¿½åŠ ãƒ¢ãƒ¼ãƒ‰ã€é¸æŠå¯èƒ½ãªå€¤ï¼š"single"ã€"batch"ã€"multi_to_single"
-   `multi_key_mode` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒãƒ«ãƒã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã€modeãŒ"multi_to_single"ã®å ´åˆã«å¿…é ˆ
-   `channel` ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰: ãƒãƒ£ãƒãƒ«è¨­å®šæƒ…å ±
    -   `name` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒãƒ£ãƒãƒ«å
    -   `type` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«ã‚¿ã‚¤ãƒ—
    -   `key` ï¼ˆæ–‡å­—åˆ—ï¼‰: APIã‚­ãƒ¼
    -   `base_url` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ™ãƒ¼ã‚¹URL
    -   `models` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    -   `groups` ï¼ˆé…åˆ—ï¼‰: åˆ©ç”¨å¯èƒ½ãªã‚°ãƒ«ãƒ¼ãƒ—ãƒªã‚¹ãƒˆ
    -   `priority` ï¼ˆæ•°å€¤ï¼‰: å„ªå…ˆåº¦
    -   `weight` ï¼ˆæ•°å€¤ï¼‰: é‡ã¿

### ãƒãƒ£ãƒãƒ«ã®æ›´æ–°

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®æ›´æ–°
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPUT
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæ—¢å­˜ã®ãƒãƒ£ãƒãƒ«ã®è¨­å®šæƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    id: 123,
    name: "æ›´æ–°çš„OpenAIæ¸ é“",
    status: 1,
    priority: 15,
    weight: 120
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€å¿…é ˆ
-   ãã®ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ãƒãƒ£ãƒãƒ«è¿½åŠ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨åŒã˜ã§ã€ã™ã¹ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### ç„¡åŠ¹ãªãƒãƒ£ãƒãƒ«ã®å‰Šé™¤

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šç„¡åŠ¹ãªãƒãƒ£ãƒãƒ«ã®å‰Šé™¤
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šDELETE
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/disabled`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã™ã¹ã¦ã®ç„¡åŠ¹ãªãƒãƒ£ãƒãƒ«ã‚’ä¸€æ‹¬ã§å‰Šé™¤ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/disabled', {
  method: 'DELETE',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": 5
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "åˆ é™¤å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã—
-   `data` ï¼ˆæ•°å€¤ï¼‰: å‰Šé™¤ã•ã‚ŒãŸãƒãƒ£ãƒãƒ«æ•°

### ã‚¿ã‚°ä»˜ããƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬ç„¡åŠ¹åŒ–

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šã‚¿ã‚°ä»˜ããƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬ç„¡åŠ¹åŒ–
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/tag/disabled`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã‚¿ã‚°ã«åŸºã¥ã„ã¦ãƒãƒ£ãƒãƒ«ã‚’ä¸€æ‹¬ã§ç„¡åŠ¹ã«ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/tag/disabled', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "test-tag"
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

`tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: ç„¡åŠ¹ã«ã™ã‚‹ãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã€å¿…é ˆ

### ã‚¿ã‚°ä»˜ããƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬æœ‰åŠ¹åŒ–

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šã‚¿ã‚°ä»˜ããƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬æœ‰åŠ¹åŒ–
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/tag/enabled`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šã‚¿ã‚°ã«åŸºã¥ã„ã¦ãƒãƒ£ãƒãƒ«ã‚’ä¸€æ‹¬ã§æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/tag/enabled', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "production-tag"
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

`tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: æœ‰åŠ¹ã«ã™ã‚‹ãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã€å¿…é ˆ

### ãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã®ç·¨é›†

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã®ç·¨é›†
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPUT
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/tag`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸã‚¿ã‚°ã®ãƒãƒ£ãƒãƒ«å±æ€§ã‚’ä¸€æ‹¬ã§ç·¨é›†ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/tag', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    tag: "old-tag",
    new_tag: "new-tag",
    priority: 20,
    weight: 150,
    models: "gpt-3.5-turbo,gpt-4,claude-3-sonnet",
    groups: "default,vip"
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "tagä¸èƒ½ä¸ºç©º"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: ç·¨é›†ã™ã‚‹ã‚¿ã‚°åã€å¿…é ˆ
-   `new_tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: æ–°ã—ã„ã‚¿ã‚°åã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
-   `priority` ï¼ˆæ•°å€¤ï¼‰: æ–°ã—ã„å„ªå…ˆåº¦ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
-   `weight` ï¼ˆæ•°å€¤ï¼‰: æ–°ã—ã„é‡ã¿ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
-   `model_mapping` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ¢ãƒ‡ãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®šã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
-   `models` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
-   `groups` ï¼ˆæ–‡å­—åˆ—ï¼‰: åˆ©ç”¨å¯èƒ½ãªã‚°ãƒ«ãƒ¼ãƒ—ãƒªã‚¹ãƒˆã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### ãƒãƒ£ãƒãƒ«ã®å‰Šé™¤

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®å‰Šé™¤
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šDELETE
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã‚’ç‰©ç†çš„ã«å‰Šé™¤ã—ã¾ã™ã€‚å‰Šé™¤å¾Œã€ãƒãƒ£ãƒãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/123', {
  method: 'DELETE',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": ""
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "æ¸ é“ä¸å­˜åœ¨"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

`id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™

### ãƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬å‰Šé™¤

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®ä¸€æ‹¬å‰Šé™¤
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/batch`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šIDãƒªã‚¹ãƒˆã«åŸºã¥ã„ã¦ãƒãƒ£ãƒãƒ«ã‚’ä¸€æ‹¬ã§å‰Šé™¤ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/batch', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    ids: [1, 2, 3, 4, 5]
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": 5
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `ids` ï¼ˆé…åˆ—ï¼‰: å‰Šé™¤ã™ã‚‹ãƒãƒ£ãƒãƒ«IDãƒªã‚¹ãƒˆã€å¿…é ˆã‹ã¤ç©ºã§ãªã„ã“ã¨
-   `data` ï¼ˆæ•°å€¤ï¼‰: æ­£å¸¸ã«å‰Šé™¤ã•ã‚ŒãŸãƒãƒ£ãƒãƒ«æ•°

### ãƒãƒ£ãƒãƒ«èƒ½åŠ›ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¿®å¾©

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«èƒ½åŠ›ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¿®å¾©
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/fix`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šãƒãƒ£ãƒãƒ«èƒ½åŠ›ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿®å¾©ã—ã€ãƒãƒ£ãƒãƒ«ã¨ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒƒãƒ”ãƒ³ã‚°é–¢ä¿‚ã‚’å†æ§‹ç¯‰ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/fix', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": {
    "success": 45,
    "fails": 2
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "ä¿®å¤èƒ½åŠ›è¡¨å¤±è´¥"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã—
-   `data.success` ï¼ˆæ•°å€¤ï¼‰: æ­£å¸¸ã«ä¿®å¾©ã•ã‚ŒãŸãƒãƒ£ãƒãƒ«æ•°
-   `data.fails` ï¼ˆæ•°å€¤ï¼‰: ä¿®å¾©å¤±æ•—ã—ãŸãƒãƒ£ãƒãƒ«æ•°

### å€‹åˆ¥ãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«ã®å–å¾—

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šå€‹åˆ¥ãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«ã®å–å¾—
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/fetch_models/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ã®ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒªãƒ¼ãƒ APIã‹ã‚‰åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/fetch_models/123', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "gpt-4-turbo-preview"
  ]
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "è§£æå“åº”å¤±è´¥: invalid character 'H' looking for beginning of value"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™
-   `data` ï¼ˆé…åˆ—ï¼‰: ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰å–å¾—ã—ãŸãƒ¢ãƒ‡ãƒ«IDãƒªã‚¹ãƒˆ

### å…¨ãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«ã®å–å¾—

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šå…¨ãƒãƒ£ãƒãƒ«ãƒ¢ãƒ‡ãƒ«ã®å–å¾—
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/fetch_models`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæä¾›ã•ã‚ŒãŸè¨­å®šæƒ…å ±ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒªãƒ¼ãƒ APIã‹ã‚‰ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã€æ–°è¦ãƒãƒ£ãƒãƒ«ä½œæˆæ™‚ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«åˆ©ç”¨ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/fetch_models', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    base_url: "https://api.openai.com",
    type: 1,
    key: "`<YOUR_API_KEY>`"
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "data": [
    "gpt-3.5-turbo",
    "gpt-4",
    "text-davinci-003"
  ]
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "Failed to fetch models"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `base_url` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãƒ™ãƒ¼ã‚¹URLã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ç©ºã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆURLã‚’ä½¿ç”¨
-   `type` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ£ãƒãƒ«ã‚¿ã‚¤ãƒ—ã€å¿…é ˆ
-   `key` ï¼ˆæ–‡å­—åˆ—ï¼‰: APIã‚­ãƒ¼ã€å¿…é ˆ
-   `data` ï¼ˆé…åˆ—ï¼‰: å–å¾—ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆ

### ãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã®ä¸€æ‹¬è¨­å®š

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã‚¿ã‚°ã®ä¸€æ‹¬è¨­å®š
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/batch/tag`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ãƒªã‚¹ãƒˆã«ã‚¿ã‚°ã‚’ä¸€æ‹¬ã§è¨­å®šã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/batch/tag', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  },
  body: JSON.stringify({
    ids: [1, 2, 3],
    tag: "production"
  })
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": 3
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "å‚æ•°é”™è¯¯"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `ids` ï¼ˆé…åˆ—ï¼‰: ã‚¿ã‚°ã‚’è¨­å®šã™ã‚‹ãƒãƒ£ãƒãƒ«IDãƒªã‚¹ãƒˆã€å¿…é ˆã‹ã¤ç©ºã§ãªã„ã“ã¨
-   `tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: è¨­å®šã™ã‚‹ã‚¿ã‚°åã€nullã‚’æ¸¡ã™ã¨ã‚¿ã‚°ã‚’ã‚¯ãƒªã‚¢ã§ãã¾ã™
-   `data` ï¼ˆæ•°å€¤ï¼‰: æ­£å¸¸ã«ã‚¿ã‚°ãŒè¨­å®šã•ã‚ŒãŸãƒãƒ£ãƒãƒ«æ•°

### ã‚¿ã‚°ã«ã‚ˆã‚‹ãƒ¢ãƒ‡ãƒ«ã®å–å¾—

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šã‚¿ã‚°ã«ã‚ˆã‚‹ãƒ¢ãƒ‡ãƒ«ã®å–å¾—
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/tag/models`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæŒ‡å®šã•ã‚ŒãŸã‚¿ã‚°ã®ä¸‹ã«ã‚ã‚‹ã™ã¹ã¦ã®ãƒãƒ£ãƒãƒ«ã§ã€ãƒ¢ãƒ‡ãƒ«æ•°ãŒæœ€ã‚‚å¤šã„ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/tag/models?tag=production', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": "gpt-3.5-turbo,gpt-4,claude-3-sonnet"
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "tagä¸èƒ½ä¸ºç©º"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `tag` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚¿ã‚°åã€å¿…é ˆ
-   `data` ï¼ˆæ–‡å­—åˆ—ï¼‰: ãã®ã‚¿ã‚°ã®ä¸‹ã§ãƒ¢ãƒ‡ãƒ«ãŒæœ€ã‚‚å¤šã„ãƒãƒ£ãƒãƒ«ã®ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š

### ãƒãƒ£ãƒãƒ«ã®è¤‡è£½

-   **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šãƒãƒ£ãƒãƒ«ã®è¤‡è£½
-   **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼šPOST
-   **ãƒ‘ã‚¹**ï¼š`/api/channel/copy/:id`
-   **èªè¨¼è¦ä»¶**ï¼šç®¡ç†è€…
-   **æ©Ÿèƒ½æ¦‚è¦**ï¼šæ—¢å­˜ã®ãƒãƒ£ãƒãƒ«ã‚’è¤‡è£½ã—ã¦æ–°ã—ã„ãƒãƒ£ãƒãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã‚«ã‚¹ã‚¿ãƒ ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¨æ®‹é«˜ãƒªã‚»ãƒƒãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/api/channel/copy/123?suffix=_å¤‡ä»½&reset_balance=true', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'your_user_id'
  }
});
const data = await response.json();
```

âœ… æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": true,
  "message": "",
  "data": {
    "id": 124
  }
}
```

â— å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

```
{
  "success": false,
  "message": "invalid id"
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

-   `id` ï¼ˆæ•°å€¤ï¼‰: è¤‡è£½ã™ã‚‹ãƒãƒ£ãƒãƒ«IDã€URLãƒ‘ã‚¹ã§æ¸¡ã•ã‚Œã¾ã™
-   `suffix` ï¼ˆæ–‡å­—åˆ—ï¼‰: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€å…ƒã®åå‰ã«è¿½åŠ ã•ã‚Œã‚‹ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯"\_è¤‡è£½"
-   `reset_balance` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€æ®‹é«˜ã¨ä½¿ç”¨æ¸ˆã¿ã‚¯ã‚©ãƒ¼ã‚¿ã‚’0ã«ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã‹ã©ã†ã‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
-   `data.id` ï¼ˆæ•°å€¤ï¼‰: æ–°ã—ãä½œæˆã•ã‚ŒãŸãƒãƒ£ãƒãƒ«ID